<!doctype html>
<html lang="en">
  <head>
    <base href="/" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

    <title>OSRS Tracker</title>

    <meta
      name="description"
      content="Track everything that matters in Old School Runescape with OSRS Tracker. Track the latest news, item prices, hiscores, and XP gains all in one place."
    />

    <!-- PWA -->
    <meta name="theme-color" content="#0F172A" />
    <link rel="manifest" href="manifest.webmanifest" />
    <!-- End PWA -->

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSQN8ELKNJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-PSQN8ELKNJ', {
        send_page_view: false,
        anonymize_ip: true,
        cookie_flags: 'SameSite=None;Secure',
        ...(location.hostname === 'localhost' ? { debug_mode: true } : {}),
      });
    </script>
    <!-- End Google tag -->

    <!-- Load theme -->
    <script>
      const darkModeSetting = localStorage.getItem('dark-mode');

      const darkModeEnabled = darkModeSetting
        ? darkModeSetting === 'true'
        : matchMedia('(prefers-color-scheme: dark)').matches;

      document.documentElement.classList.toggle('dark', darkModeEnabled);

      gtag('event', 'load_theme', {
        event_category: 'theming',
        event_label: 'load_theme',
        value: darkModeEnabled ? 'dark' : 'light',
      });
    </script>
    <!-- End Load Theme -->

    <link href="favicon.png" rel="icon" media="(prefers-color-scheme: light)" />
    <link href="favicon-dark.png" rel="icon" media="(prefers-color-scheme: dark)" />
    <link href="/assets/pwa/icon-512x512.png" rel="apple-touch-icon" sizes="512x512" />
    <link href="/assets/pwa/icon-192x192.png" rel="apple-touch-icon" sizes="192x192" />

    <link rel="preload" href="/assets/fonts/solix.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/assets/fonts/solix_light.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/assets/fonts/solix_bold.woff2" as="font" type="font/woff2" crossorigin />

    <link rel="preconnect" href="https://cdn.runescape.com" />
    <link rel="preconnect" href="https://oldschool.runescape.wiki" />
  </head>
  <body class="antialiased text-slate-600 dark:text-slate-300 bg-slate-200 dark:bg-slate-900">
    <app-root></app-root>
  </body>
</html>
